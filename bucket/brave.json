{
    "$schema": "https://raw.githubusercontent.com/lukesampson/scoop/master/schema.json",
    "version": "1.26.77",
    "description": "Secure, Fast & Private Web Browser with Adblocker.",
    "homepage": "https://brave.com",
    "license": {
        "identifier": "Freeware,BSD-3-Clause,GPL-3.0-only,...",
        "url": "https://github.com/brave/brave-browser/blob/master/LICENSE"
    },
    "architecture": {
        "64bit": {
            "url": "https://github.com/brave/brave-browser/releases/download/v1.26.77/BraveBrowserStandaloneSetup.exe#/dl.exe",
            "hash": "23114bfc940b096ee64eb2ac0585108c0721b6f3a22385e69dbbe1676e391933"
        },
        "32bit": {
            "url": "https://github.com/brave/brave-browser/releases/download/v1.26.77/BraveBrowserStandaloneSetup32.exe#/dl.exe",
            "hash": "0a64a32e4c42c5b87aab4817a6fec3b6afa9282f1448ec4dabe33772acb480d3"
        }
    },
    "installer": {
        "script": [
            "$ErrorActionPreference = 'silentlycontinue'",
            "$time = (Get-Date)",
            "$guid = '{AFE6A462-C574-4B8A-AF43-4CC60DF4563B}'",
            "$extract = (Start-Process -FilePath \"$dir\\dl.exe\" -ArgumentList '-Extract' -PassThru)",
            "While (-not (Get-ChildItem -Path \"$env:TEMP\\GUM*.tmp\" -Depth 1 -Filter \"brave_installer_*_$($version -replace '\\.', '_').exe.$guid\" |",
            "    Where-Object { $_.LastAccessTime -gt $time})) {}",
            "$7zFile = (Get-ChildItem -Path \"$env:TEMP\\GUM*.tmp\" -Depth 1 -Filter \"brave_installer_*_$($version -replace '\\.', '_').exe.$guid\" |",
            "    Sort-Object $_.LastAccessTime -Descending |",
            "    Select-Object -First 1).FullName",
            "$7zFileInfo1 = $null",
            "Do {",
            "    $7zFileInfo2 = $7zFileInfo1",
            "    $7zFileInfo1 = (Get-Item \"$7zFile\")",
            "} While ($7zFileInfo1.Length -ne $7zFileInfo2.Length -or $7zFileInfo1.LastAccessTime.Ticks -ne $7zFileInfo2.LastAccessTime.Ticks -or $7zFileInfo1.LastWriteTime.Ticks -ne $7zFileInfo2.LastWriteTime.Ticks)",
            "Stop-Process -Id $extract.Id",
            "Start-Sleep -Seconds 1",
            "Expand-7zipArchive -Path \"$7zFile\" -DestinationPath \"$dir\"",
            "Expand-7zipArchive -Path \"$dir\\chrome.7z\" -ExtractDir 'Chrome-bin' -Removal",
            "Remove-Item -Force -Path \"$dir\\dl.exe\""
        ]
    },
    "bin": "brave.exe",
    "shortcuts": [
        [
            "brave.exe",
            "Brave"
        ]
    ],
    "checkver": {
        "url": "https://brave.com/latest/",
        "regex": "<strong>V([\\d.]+)</strong>"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/brave/brave-browser/releases/download/v$version/BraveBrowserStandaloneSetup.exe#/dl.exe"
            },
            "32bit": {
                "url": "https://github.com/brave/brave-browser/releases/download/v$version/BraveBrowserStandaloneSetup32.exe#/dl.exe"
            }
        }
    }
}
