{
   "$schema": "https://raw.githubusercontent.com/lukesampson/scoop/master/schema.json",
   "version": "2.12.0",
   "description": "This helper implement script to create and destroy WinSW services.",
   "depends": "main/winsw",
   "url": [
      "https://github.com/winsw/winsw/releases/download/v2.12.0/sample-allOptions.xml#/winsw-template.xml",
      "https://raw.githubusercontent.com/silver886/scoop/winsw-helper/v2.12.0/scripts/winsw-helper/WinSW.ps1"
   ],
   "hash": [
      "08b8c0692699d00ee9ae37b636b52a3b5655e5d486a20cebe60cd26c50d86e46",
      "9b4afa086e2ecd2b5f869848fd31569a8b779ec96ea82aee31e4734e4cf82dc5"
   ],
   "installer": {
      "script": [
         "if ((ConvertFrom-Json (Get-Content -Raw \"$(appdir winsw)\\current\\manifest.json\")).version -ne $version) {",
         "    error 'This package requires `winsw` with matching version'; break ",
         "}",
         "$winswScript = \"$dir\\WinSW.ps1\"",
         "$content = (Get-Content $winswScript).Replace('$version', $version).Replace('$dir', $dir).Replace('$scoopdir', $scoopdir)",
         "Set-Content -Force -Path $winswScript -Value $content -Encoding Ascii"
      ]
   },
   "bin": [
      [
         "WinSW.ps1",
         "winsw-helper"
      ]
   ],
   "persist": "services",
   "env_add_path": "services",
   "checkver": {
      "github": "https://github.com/winsw/winsw"
   },
   "autoupdate": {
      "url": [
         "https://github.com/winsw/winsw/releases/download/v$version/sample-allOptions.xml#/winsw-template.xml",
         "https://raw.githubusercontent.com/silver886/scoop/winsw-helper/v$version/scripts/winsw-helper/WinSW.ps1"
      ]
   }
}
